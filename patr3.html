<!DOCTYPE HTML>
<head>
	<title>
		matching game
	</title>

	<style type="text/css">
		img { position: absolute;}
		div {position: absolute;
			width: 500px;
			height: 500px;}
		#right {left: 500px;
				border-left: 1px dashed black;}
	</style>
</head>

<body>

	<h1>Matching game </h1>
	<p><em>Click on the extra smiling face on the left</em></p>
	<div id="left"></div>
	<div id="right"></div>
	<script type="text/javascript">
		var numfaces=5;
		var leftside= document.getElementById("left");
		var rightside= document.getElementById("right");
		var thebody = document.getElementsByTagName("body")[0];
		var score =0;
		var high=0;


		function faces () {

			while(leftside.firstChild)
			{
				leftside.removeChild(leftside.firstChild);
			}
			while(rightside.firstChild)
			{
				rightside.removeChild(rightside.firstChild);
			}

			for (var i = 0; i < numfaces; i++) {
				image = document.createElement("img");
				image.src="smile.png";
				image.style.left= Math.floor(Math.random()*401)+ "px";
				image.style.top=Math.floor(Math.random()*401)+ "px";
				leftside.appendChild(image);
				}

				leftimage=leftside.cloneNode(true);
				leftimage.removeChild(leftimage.lastChild);
				rightside.appendChild(leftimage);

				leftside.lastChild.onclick= function next (event){
					event.stopPropagation();
					numfaces+=5;
					score++;
					faces();				}
			}


		faces();
		thebody.onclick= function over(){
			if(score>high)
				high=score;
			alert("Game Over!!\nYour score="+score+"\nhighest="+high);
			thebody.onclick=null;
			leftside.lastChild.onclick=null;
			location.reload(true);
		}

</script>

</body>

</html>